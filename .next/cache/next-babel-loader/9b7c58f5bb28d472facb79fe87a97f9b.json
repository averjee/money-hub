{"ast":null,"code":"import { format, differenceInYears } from \"date-fns\";\nimport { getDateFromString } from \"./getDateFromString\";\nimport { formatCurrency, CURRENCIES } from \"./formatCurrency\";\nexport var constructAccountDetails = function constructAccountDetails(data) {\n  var account = data.account;\n  var lastUpdate = account.lastUpdate,\n      associatedMortgages = account.associatedMortgages,\n      originalPurchasePrice = account.originalPurchasePrice,\n      originalPurchasePriceDate = account.originalPurchasePriceDate;\n  account.lastUpdateDate = format(new Date(lastUpdate), \"do MMM yyyy\");\n  account.mortgageDetails = associatedMortgages.length ? associatedMortgages[0] : undefined;\n  account.purchaseDate = getDateFromString(originalPurchasePriceDate);\n  var sincePurchase = account.recentValuation.amount - originalPurchasePrice;\n  account.sincePurchase = formatCurrency(CURRENCIES.GBP, sincePurchase);\n  var sincePurchasePercentage = sincePurchase / originalPurchasePrice * 100;\n  var numberOfYearsSincePurchase = differenceInYears(new Date(), new Date(originalPurchasePriceDate));\n  account.sincePurchasePercentage = sincePurchasePercentage;\n  account.numberOfYearsSincePurchase = numberOfYearsSincePurchase;\n  account.annualAppreciation = \"\".concat(sincePurchasePercentage / numberOfYearsSincePurchase, \"%\");\n  return account;\n};","map":{"version":3,"sources":["/Users/al7861/Desktop/money-hub/utils/constructAccountDetails.js"],"names":["format","differenceInYears","getDateFromString","formatCurrency","CURRENCIES","constructAccountDetails","data","account","lastUpdate","associatedMortgages","originalPurchasePrice","originalPurchasePriceDate","lastUpdateDate","Date","mortgageDetails","length","undefined","purchaseDate","sincePurchase","recentValuation","amount","GBP","sincePurchasePercentage","numberOfYearsSincePurchase","annualAppreciation"],"mappings":"AAAA,SAASA,MAAT,EAAiBC,iBAAjB,QAA0C,UAA1C;AACA,SAASC,iBAAT,QAAkC,qBAAlC;AACA,SAASC,cAAT,EAAyBC,UAAzB,QAA2C,kBAA3C;AAEA,OAAO,IAAMC,uBAAuB,GAAG,SAA1BA,uBAA0B,CAACC,IAAD,EAAU;AAAA,MACrCC,OADqC,GACzBD,IADyB,CACrCC,OADqC;AAAA,MAErCC,UAFqC,GAEiDD,OAFjD,CAErCC,UAFqC;AAAA,MAEzBC,mBAFyB,GAEiDF,OAFjD,CAEzBE,mBAFyB;AAAA,MAEJC,qBAFI,GAEiDH,OAFjD,CAEJG,qBAFI;AAAA,MAEmBC,yBAFnB,GAEiDJ,OAFjD,CAEmBI,yBAFnB;AAI7CJ,EAAAA,OAAO,CAACK,cAAR,GAAyBZ,MAAM,CAAC,IAAIa,IAAJ,CAASL,UAAT,CAAD,EAAuB,aAAvB,CAA/B;AACAD,EAAAA,OAAO,CAACO,eAAR,GAA0BL,mBAAmB,CAACM,MAApB,GAA6BN,mBAAmB,CAAC,CAAD,CAAhD,GAAsDO,SAAhF;AACAT,EAAAA,OAAO,CAACU,YAAR,GAAuBf,iBAAiB,CAACS,yBAAD,CAAxC;AAEA,MAAMO,aAAa,GAAGX,OAAO,CAACY,eAAR,CAAwBC,MAAxB,GAAiCV,qBAAvD;AACAH,EAAAA,OAAO,CAACW,aAAR,GAAwBf,cAAc,CAACC,UAAU,CAACiB,GAAZ,EAAiBH,aAAjB,CAAtC;AAEA,MAAMI,uBAAuB,GAAGJ,aAAa,GAAGR,qBAAhB,GAAwC,GAAxE;AACA,MAAMa,0BAA0B,GAAGtB,iBAAiB,CAAC,IAAIY,IAAJ,EAAD,EAAa,IAAIA,IAAJ,CAASF,yBAAT,CAAb,CAApD;AAEAJ,EAAAA,OAAO,CAACe,uBAAR,GAAkCA,uBAAlC;AACAf,EAAAA,OAAO,CAACgB,0BAAR,GAAqCA,0BAArC;AACAhB,EAAAA,OAAO,CAACiB,kBAAR,aAAgCF,uBAAuB,GAAGC,0BAA1D;AAEA,SAAOhB,OAAP;AACH,CAnBM","sourcesContent":["import { format, differenceInYears } from \"date-fns\"\nimport { getDateFromString } from \"./getDateFromString\"\nimport { formatCurrency, CURRENCIES } from \"./formatCurrency\"\n\nexport const constructAccountDetails = (data) => {\n    const { account } = data\n    const { lastUpdate, associatedMortgages, originalPurchasePrice, originalPurchasePriceDate } = account\n\n    account.lastUpdateDate = format(new Date(lastUpdate), \"do MMM yyyy\")\n    account.mortgageDetails = associatedMortgages.length ? associatedMortgages[0] : undefined\n    account.purchaseDate = getDateFromString(originalPurchasePriceDate)\n    \n    const sincePurchase = account.recentValuation.amount - originalPurchasePrice\n    account.sincePurchase = formatCurrency(CURRENCIES.GBP, sincePurchase)\n\n    const sincePurchasePercentage = sincePurchase / originalPurchasePrice * 100\n    const numberOfYearsSincePurchase = differenceInYears(new Date(), new Date(originalPurchasePriceDate))\n\n    account.sincePurchasePercentage = sincePurchasePercentage\n    account.numberOfYearsSincePurchase = numberOfYearsSincePurchase\n    account.annualAppreciation = `${sincePurchasePercentage / numberOfYearsSincePurchase}%`\n\n    return account\n}\n"]},"metadata":{},"sourceType":"module"}